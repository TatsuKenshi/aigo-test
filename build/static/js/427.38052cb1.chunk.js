"use strict";(self.webpackChunkaigo_restaurant=self.webpackChunkaigo_restaurant||[]).push([[427],{8427:function(e,a,s){s.r(a);var t=s(1413),l=s(4165),r=s(5861),n=s(9439),o=s(2791),i=s(7689),u=s(1134),m=s(8825),d=s(1243),c=s(8007),x=s(184);a.default=function(){var e,a,s,h=(0,o.useState)(""),f=(0,n.Z)(h,2),b=f[0],p=f[1],g=(0,i.s0)(),j=m.ZP.language,v=(0,o.useRef)(null),w=(0,u.cI)({mode:"onChange",delayError:1e3,defaultValues:{user_name:"",user_email:"",message:""}}),k=w.register,N=w.formState,_=N.errors,Z=N.isValid,y=w.getValues,S=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(a){var s,t,r,n,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=v.current.getValue(),v.current.reset(),e.prev=3,e.next=6,d.Z.post("https://aigo-test-backend.onrender.com/captcha",{token:s});case 6:if(200!==e.sent.status){e.next=17;break}return t=y("user_name"),r=y("user_email"),n=y("message"),o={myName:t,myEmail:r,myMessage:n},p("\n          ".concat("en"===j?"Your message has been sent. You will be redirected to the home page shortly.":"Va\u0161a poruka je poslata. Ubrzo \u0107ete biti preba\u010deni na po\u010detnu stranu.","\n          ")),setTimeout((function(){g("/")}),7e3),e.next=16,d.Z.post("https://aigo-test-backend.onrender.com/sendemail",o);case 16:e.sent;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(a){return e.apply(this,arguments)}}();return(0,x.jsx)("section",{className:"max-w-[900px] mx-auto my-4",children:(0,x.jsxs)("form",{onSubmit:function(e){S(e)},children:[(0,x.jsxs)("div",{className:"mb-4 w-full mx-auto",children:[(0,x.jsx)("div",{children:(0,x.jsx)("label",{htmlFor:"user_name",className:"text-xl font-bold text-[#a62817]",children:"en"===j?"Your name":"Va\u0161e ime i prezime"})}),(0,x.jsx)("div",{children:(0,x.jsx)("input",(0,t.Z)((0,t.Z)({},k("user_name",{required:"".concat("en"===j?"This field is required.":"Ime je obavezno polje."),minLength:{value:4,message:"".concat("en"===j?"The name is too short.":"Ime je prekratko.")}})),{},{id:"user_name",name:"user_name",className:"border-4 border-[#a62817] w-full h-12 rounded-lg px-2 text-xl"}))}),(0,x.jsx)("p",{role:"alert",className:"text-xl font-bold text-[#a62817]",children:null===_||void 0===_||null===(e=_.user_name)||void 0===e?void 0:e.message})]}),(0,x.jsxs)("div",{className:"mb-4 w-full mx-auto",children:[(0,x.jsx)("div",{children:(0,x.jsx)("label",{htmlFor:"user_email",className:"text-xl font-bold text-[#a62817]",children:"en"===j?"Your email":"Va\u0161 email"})}),(0,x.jsx)("div",{children:(0,x.jsx)("input",(0,t.Z)((0,t.Z)({type:"email",id:"user_email"},k("user_email",{required:"".concat("en"===j?"Email is required.":"Email je obavezno polje."),pattern:{value:/\S+@\S+\.\S+/,message:"".concat("en"===j?"Entered value does not match the email format.":"Unesena vrednost nije u validnom email formatu.")}})),{},{"aria-invalid":_.user_email?"true":"false",className:"border-4 border-[#a62817] w-full h-12 rounded-lg px-2 text-xl",name:"user_email"}))}),(0,x.jsx)("p",{role:"alert",className:"text-xl font-bold text-[#a62817]",children:null===(a=_.user_email)||void 0===a?void 0:a.message})]}),(0,x.jsxs)("div",{className:"mb-4 w-full mx-auto",children:[(0,x.jsx)("div",{children:(0,x.jsx)("label",{htmlFor:"message",className:"text-xl font-bold text-[#a62817]",children:"en"===j?"Your message":"Va\u0161a poruka"})}),(0,x.jsx)("div",{children:(0,x.jsx)("textarea",(0,t.Z)((0,t.Z)({rows:4,cols:50},k("message",{required:"".concat("en"===j?"Message field is required.":"Poruka je obavezno polje."),minLength:{value:4,message:"".concat("en"===j?"The message is too short.":"Poruka je prekratka.")}})),{},{id:"message",className:"border-4 border-[#a62817] w-full h-40 rounded-lg px-2 text-xl",name:"message"}))}),(0,x.jsx)("p",{role:"alert",className:"text-xl font-bold text-[#a62817]",children:null===_||void 0===_||null===(s=_.message)||void 0===s?void 0:s.message})]}),(0,x.jsx)("div",{className:"mb-4 w-full mx-auto flex justify-center",children:(0,x.jsx)(c.Z,{sitekey:"6LfLhucoAAAAAGRSq_R9JgPCSUjtlDgQjWT99l16",ref:v})}),(0,x.jsx)("div",{className:"mb-4 w-full mx-auto lg:text-center",children:(0,x.jsx)("button",{type:"submit",className:"border-4 border-[#a62817] text-[#a62817] font-bold rounded-lg px-2 py-1 text-xl w-full lg:w-64",disabled:!Z,children:"en"===j?"Send":"Po\u0161alji"})}),(0,x.jsx)("div",{className:"mb-4 w-full sm:w-10/12 md:w-8/12 mx-auto",children:(0,x.jsx)("p",{className:"text-xl font-bold text-[#a62817]",children:b})})]})})}}}]);
//# sourceMappingURL=427.38052cb1.chunk.js.map